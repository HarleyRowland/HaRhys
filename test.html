<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Harley Rowland</title>
    <link rel="stylesheet" href="./foundation.css">
    <script src="https://use.typekit.net/exj8ifs.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">

  </head>
 
  <body>
    <div class="nav-bar show-for-medium-up">
      <button type="button" class="active" id="nav-landing">Top</button>
      <button type="button" id="nav-about">About</button>
      <button type="button" id="nav-contact">Contact</button>
      <button type="button" id="nav-activity">Activity</button>
    </div>
    <div class="landing">
      <div class="landing-text">
        <h1> Harley Rowland</h1>
        <h3> My Online CV</h3>
        <h5 class="more-info"> More info </h5>
      </div>
    </div>
    <div class="about-me">
        <div class="heading">
          <h3 class="subtitle"> Harley Rowland</h1>
          <h5> Computer Science Graduate and Aspiring Developer</h5>
        </div>
        <div class="bio-image show-for-small-only columns">
          <img src="./assets/harley-small.jpg"/>
        </div>
        <div class="bio row">
          <div class="bio-text medium-12 columns">
            <div class="bio-image hide-for-small-only">
               <img src="./assets/harley-small.jpg"/>
            </div>
            <p>
              I have recently graduated from the University of Kent and attained a first-class honours degree in computer science. My course taught me a wide range of skills from Object-Oriented programming with Java and JavaScript to functional languages such as Erlang and OCAML.
            </p> 
            <p>
              The third year of my four-year degree was a year in industry where I worked using mostly JavaScript (Node.js and ExpressJS) and CSS (LESS). The company also used Agile methodologies which gave me a good exposure to Scrum and the way it works.
            </p> 
          </div>
          
        </div>
        <div class="separator"></div>
        <div class="stats">
          <div class="stats-heading">
            <h5 class="subtitle">The Basics</h5>
          </div>
          <div class="stats-body row show-for-large-up">
            <span class="medium-4 columns"><b>Name:</b> Harley Rowland</span>
            <span class="medium-3 columns"><b>Age:</b> <span class="date-of-birth"></span></span>
            <span class="medium-5 columns"><b>Location:</b> London, United Kingdom</span>
            <span class="medium-4 columns"><b>University:</b> Kent</span>
            <span class="medium-3 columns"><b>Gender:</b> Male</span>
            <span class="medium-5 columns"><b>Favourite PLs:</b> JavaScript, Java & CSS</span>
          </div>
          <div class="stats-body row show-for-medium-only">
            <span class="medium-6 columns"><b>Name:</b> Harley Rowland</span>
            <span class="medium-6 columns"><b>Age:</b> <span class="date-of-birth"></span></span>
            <span class="medium-6 columns"><b>Gender:</b> Male</span>
            <span class="medium-6 columns"><b>University:</b> Kent</span>
            <span class="medium-6 columns"><b>Location:</b> Canterbury, Kent, UK</span>
            <span class="medium-6 columns"><b>Favourite PLs:</b> JavaScript, Java & CSS</span>
          </div>
          <div class="stats-body row show-for-small-only">
            <span class="medium-12 columns"><b>Name:</b> Harley Rowland</span>
            <span class="medium-12 columns"><b>Age:</b> <span class="date-of-birth"></span></span>
            <span class="medium-12 columns"><b>Location:</b> Canterbury, Kent, UK</span>
            <span class="medium-12 columns"><b>University:</b> Kent</span>
            <span class="medium-12 columns"><b>Gender:</b> Male</span>
            <span class="medium-12 columns"><b>Favourite PLs:</b> JavaScript, Java & CSS</span>
          </div>
        </div>

    </div>

     <div class="contact-me">
      <div class="content">
        <div class="heading">
          <h3 class="subtitle"> Contact Me</h3>
        </div>
        <form class='email-form'>
          <input class='form-object' id="name" type="text" name="name" placeholder="What is your name?">
          <input class='form-object' id="subject" type="text" name="subject" placeholder="What is the subject?">
          <textarea class='form-object' id="email-body" cols="40" rows="7" placeholder="Ask me anything."></textarea>
          <div class="button-div">
            <input class='form-object email-button' type="button" onclick="sendMail()" value="Send">
          </div>        
        </form>
      </div>
    </div>

    <div class="activity">
      <div class="content">
        <div class="heading">
          <h3 class="subtitle">Activity</h3>
        </div>
        <div class="activity-text">
          <p>I enjoy keeping fit and run regularly and when I run I keep track of speed and distance using the <a class="running-app" href="https://itunes.apple.com/us/app/nike+-run-club/id387771637?mt=8"> Nike+ RunClub app</a>. I try to run at least three times a week. My current goal is to run 5 kilometers in under 22 minutes and hopefully one day I will be fit enough to run the London Marathon. Below is some information about the my most recent runs which has been retrieved using the Nike+ API.</p>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="get-in-touch">
        <span class="footerText">Get in Touch!</span>
      </div>
      <div class="social-media">
        <a class="linkedin" href="https://uk.linkedin.com/pub/harley-rowland/71/365/799">LinkedIn </a><span>|</span>
        <a class="twitter" href="https://twitter.com/HarleyRowland"> Twitter </a><span>|</span>
        <a class="instagram" href="https://instagram.com/harleyrowland/"> Instagram </a><span>|</span>
        <a class="github" href="https://github.com/HarleyRowland"> GitHub </a>
      </div>
      <div class="name">
        <span class="footerText">Harley Rowland 2016 - Made using <a href="http://foundation.zurb.com">Foundation</a> and <a href="https://typekit.com/fonts">Typekit</a></span>
      </div>

    </footer>


  </body>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script src="jquery.viewport.js" type="text/javascript"></script>
  <script src="moment.js" type="text/javascript"></script>
  <script type="text/javascript">
    function sendMail() {
      var link = "mailto:harleyrowland17@gmail.com"
             + "?cc="
             + "&subject=" + escape(document.getElementById('subject').value) + " - " + escape(document.getElementById('name').value)
             + "&body=" + escape(document.getElementById('email-body').value)
      window.location.href = link;
    }

    var date = new Date();
    var year = date.getFullYear();
    var month = date.getMonth();
    var day = date.getDate();
    var age;

    if(month > 1){
      age = year;
    } else if(month == 1){
      if(day >= 17){
        age = year;
      } else {
        age = year-1;
      }
    } else {
      age = year-1;
    }
    age = age-1993;
    $(".date-of-birth").text(age);

    $( document ).ready(function() {
      $( ".more-info" ).click(function() {
        $('html, body').animate({
          scrollTop: $(".about-me").offset().top
        }, 1500);
      });

      $( "#nav-landing" ).click(function() {
        $('html, body').animate({
          scrollTop: $("body").offset().top
        }, 1500);
      });

      $( "#nav-about" ).click(function() {
        $('html, body').animate({
          scrollTop: $(".about-me").offset().top
        }, 1500);
      });

      $( "#nav-activity" ).click(function() {
        $('html, body').animate({
          scrollTop: $(".activity").offset().top
        }, 1500);
      });

      $( "#nav-contact" ).click(function() {
        $('html, body').animate({
          scrollTop: $(".contact-me").offset().top
        }, 1500);
      });

    });

    $(window).scroll(function(){
      if($(".landing-text").visible()){
        $("#nav-landing").addClass("active");
        $("#nav-about").removeClass("active");
        $("#nav-contact").removeClass("active");
        $("#nav-activity").removeClass("active");
      }
      if($(".bio-text").visible()){
        $("#nav-about").addClass("active");
        $("#nav-landing").removeClass("active");
        $("#nav-contact").removeClass("active");
        $("#nav-activity").removeClass("active");
      }
      if($(".email-form").visible()){
        $("#nav-contact").addClass("active");
        $("#nav-landing").removeClass("active");
        $("#nav-about").removeClass("active");
        $("#nav-activity").removeClass("active");
      }
      if($(".activity-text").visible()){
        $("#nav-activity").addClass("active");
        $("#nav-landing").removeClass("active");
        $("#nav-about").removeClass("active");
        $("#nav-contact").removeClass("active");
      }
    });

        $.ajax({
          url: "https://api.nike.com/v1/me/sport/activities?offset=1&count=1&access_token=otozGWQu03aBPlo4V2eapXApcntW&_=1473003714361",
          type: "GET",
          dataType: 'text',
          success: function(result){
            var data = JSON.parse(result)
            data = data.data[0];

            var activityType = data.activityType.toLowerCase();
            var startTime = moment(data.startTime).fromNow();
            var calories = data.metricSummary.calories;
            var distance = data.metricSummary.distance.substring(0,4);
            var hours = data.metricSummary.duration.substring(0,1);
            var minutes = data.metricSummary.duration.substring(2,4);
            var steps = data.metricSummary.steps;


            var activityString = "I last went for a " + activityType + " " + startTime + ". The " + activityType + " took " + lengthString(hours, minutes) + " and I travelled " + distance + ". I burnt " + calories + " calories!"

            console.log(activityString);
          },
          error: function (xhr, ajaxOptions, thrownError) {
            $('.exerciseContent > p').text('Error loading workout from Nike+');
        }
        });

        var lengthString = function(hours, minutes){
          var returnString;
          if(hours == "0"){
            returnString = minutes + "minutes";
          } else if(hours == "1"){
            returnString = "1 hour and " + minutes + " minutes";
          } else {
            returnString = hours + "hours and " + minutes + " minutes";
          }
          return returnString;s
        }

  </script>
</html>